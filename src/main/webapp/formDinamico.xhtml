<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
    <title>Wholesale</title>

    <ui:include src="header.xhtml" ></ui:include>
    <ui:include src="footScript.xhtml"/>

</h:head>

<h:body styleClass="bg-theme bg-theme1">
<h:inputHidden   value="#{formDinamicoBean.init()}"></h:inputHidden>
<!-- Start wrapper-->
<div id="wrapper">


    <div class="clearfix"></div>
    <div class="content-wrapper">

            <div class="row"><div class="col-lg-4"></div>
                <div class="col-lg-4">
                    <div class="card">
                        <div class="card-body">

                            <h:panelGroup id="formulario">
                            <h:form id="form_login"  >

                                <ui:repeat id="lista" varStatus="status" value="#{formDinamicoBean.fields}" var="campos">
                                <div class="form-group">

                                    <h:outputLabel  > #{campos.name} </h:outputLabel>

                                    <h:inputText
                                            id="campo"
                                            value="#{campos.value}"
                                                  p:placeholder="#{campos.label}"
                                                 required="true"
                                                  styleClass="form-control" rendered="#{campos.type == 'TEXT'}" >
                                        <f:validateLength minimum="5"  />


                                    </h:inputText>
                                    <h:message  for="campo"  />



                                </div>
                                </ui:repeat>
                                <div class="form-group">

                            <h:commandButton  value="Iniciar Sesion" styleClass="btn btn-light px-5" action="#{formDinamicoBean.login()}" >
                                <i class="icon-lock"></i>
                                <f:ajax execute="@form" render="@form"   />
                            </h:commandButton>
                                    <h:commandButton  value="Registrar" styleClass="btn btn-light px-5" action="#{formDinamicoBean.register()}" >
                                        <i class="icon-lock"></i>
                                        <f:ajax execute="@form" render="@form"   />
                                    </h:commandButton>
                                </div>
                            </h:form>
                            </h:panelGroup>
                        </div>
                    </div>
                </div>




            </div>


            <div class="overlay toggle-menu"></div>




    </div>




    <ui:include src="footer.xhtml"/>

</div>








</h:body>
</html>
